@use '../../theme' as theme

.config-page
    max-width: 1280px
    margin: 0 auto
    padding: 1rem 1rem 2rem

.page-head
    margin: 0 0 1.5rem

    h1
        margin: 0
        color: theme.$app-primary
        font-size: clamp(1.5rem, 2.4vw, 2.1rem)
        line-height: 1.2

.settings-card
    margin-bottom: 1.1rem
    border-radius: .9rem

.section-head
    display: flex
    align-items: center
    justify-content: space-between
    padding: 1rem 1rem 0

    h2
        margin: 0
        color: theme.$app-primary
        font-size: 1.1rem
        line-height: 1.25

.full-width
    width: 100%

.role-form
    display: grid
    grid-template-columns: 1fr auto
    gap: .8rem
    align-items: start

.role-chips
    grid-column: 1 / -1
    margin-top: .1rem

.config-page .mat-mdc-chip
    min-height: var(--app-control-height)
    height: var(--app-control-height)
    border-radius: var(--app-control-radius)
    border: 1px solid var(--app-control-border)
    background: var(--app-control-bg)
    color: theme.$app-primary-deep

.config-page .mat-mdc-chip .mat-mdc-chip-action,
.config-page .mat-mdc-chip .mdc-evolution-chip__action
    min-height: var(--app-control-height)

.config-page .mat-mdc-chip .mat-mdc-chip-remove,
.config-page .mat-mdc-chip [matChipRemove]
    border-radius: var(--app-control-radius)

.config-page .action-cell .mat-mdc-icon-button
    min-height: var(--app-control-height)
    min-width: var(--app-control-height)
    height: var(--app-control-height)
    width: var(--app-control-height)

.actions-top
    margin: .3rem 0 .95rem

.form-grid
    margin-top: .2rem

.backup-warning
    display: inline-flex
    align-items: center
    gap: .4rem
    margin: .2rem 0 .7rem
    color: theme.$app-error

.backup-legend
    display: flex
    flex-wrap: wrap
    gap: .8rem 1.2rem
    margin-bottom: .85rem

    span
        display: inline-flex
        align-items: center
        gap: .3rem
        opacity: .85

.table-wrap
    overflow-x: auto
    margin-top: .4rem

    table
        width: 100%

.backup-table-wrap
    margin-top: .25rem

    .mat-column-actions
        width: 150px
        min-width: 150px

    .mat-column-name
        width: auto

.backup-name
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis

.action-cell
    display: flex
    gap: .35rem

.backup-empty
    margin: .7rem 0 .15rem
    opacity: .75

.cleanup-legend
    margin: .1rem 0 .55rem

.cleanup-section
    border: 1px solid rgba(theme.$app-border, .85)
    border-radius: .9rem
    padding: .75rem .8rem .65rem
    background: rgba(theme.$app-surface, .82)

.cleanup-intro
    margin: .1rem 0 .65rem
    color: theme.$app-text-muted
    line-height: 1.35

.cleanup-actions
    display: flex
    flex-wrap: wrap
    gap: .6rem
    margin-top: .4rem

    button
        min-width: 172px

.cleanup-summary
    margin: .9rem 0 .45rem
    line-height: 1.35

.cleanup-empty
    margin: .6rem 0 .25rem
    color: theme.$app-text-muted
    opacity: .9

.cleanup-table-wrap
    margin-top: .2rem

    .mat-column-target
        width: 130px
        min-width: 130px

    .mat-column-filename
        width: auto

.cleanup-filename
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis

@media (max-width: 768px)
    .config-page
        padding: .75rem .75rem 1.5rem

    .page-head
        margin-bottom: 1rem

        h1
            font-size: 1.4rem

    .section-head
        padding: .85rem .85rem 0

        h2
            font-size: 1rem

    .role-form
        grid-template-columns: 1fr

        button[type="submit"]
            width: 100%

    .actions-top
        button
            width: 100%

    .action-cell
        justify-content: flex-start
        gap: .2rem

    .backup-legend
        gap: .55rem .9rem
        margin-bottom: .7rem

    .backup-table-wrap,
    .cleanup-table-wrap
        table
            th.mat-mdc-header-cell
                font-size: .78rem

            td.mat-mdc-cell
                font-size: .83rem

            th.mat-mdc-header-cell,
            td.mat-mdc-cell
                padding-left: .45rem
                padding-right: .45rem

    .cleanup-actions
        gap: .45rem

        button
            width: 100%